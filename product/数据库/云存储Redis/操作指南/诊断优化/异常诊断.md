## 功能介绍

异常诊断以智能监控采集的数据为依据，提供7 * 24小时实时数据库异常诊断分析。针对数据库实例的性能问题，基于 SQL 优化引擎、性能分析引擎、规则引擎的处理分析，从规格配置、SQL 分析、业务逻辑、使用合理性等维度给出实例当前与历史的健康评估结果，包括：健康得分、健康风险等级等，帮助运维人员直观、清晰、快速地掌握数据库实例的运行状况。


## 查看诊断优化
1. 登录 [Redis 控制台](https://console.cloud.tencent.com/redis)，在左侧导航栏，选择**诊断优化**。
2. 在**数据库智能管家 DBbrain** 的**诊断优化**页面，选择**异常诊断**页面，即可查看异常诊断详情。
<img src="https://qcloudimg.tencent-cloud.cn/raw/0f5f7b603f770360483d8de52e91aab8.png" style="zoom: 80%;" />

## 概览

在**概览**区域，默认展示 Redis 数据库实例近一小时健康得分的变化趋势图，以及数据库健康巡检诊断的风险等级。单击右上角的**历史**，可选择时间区间查看历史时间段的健康得分与巡检诊断结果。
![](https://qcloudimg.tencent-cloud.cn/raw/8ba7cb7d49c574a17ab937fe7c15082f.png)
在**概览**区域下方，展示数据库当前时间的健康得分以及实例各个节点的告警和异常。
- 一方面展示数据库实例当前时间的健康得分，以及当前资源监控指标的统计数据，包括 CPU 使用率、内存使用率、连接使用率、出入流量使用率以及读请求命中率，帮您快速掌握数据库资源的使用情况。单击健康得分下面的**详情**，跳转至**健康报告**页签，可查看健康得分的详细信息，具体信息请参见 [健康报告管理](https://cloud.tencent.com/document/product/1130/39058)。
- 另一方面，展示数据库的系统分布架构图，您可以直观地看到数据库架构的 Proxy 节点、主节点、副本节点，并能直接查看到各个节点的告警以及异常事件的数量统计。并且，将鼠标放在架构图的节点上方，可查看该节点的关键指标的监控数据。监控指标，请参见 [性能趋势](https://cloud.tencent.com/document/product/239/73517)。
![](https://qcloudimg.tencent-cloud.cn/raw/d31b04a5ebd1efed1ea4cfe83341bebd.png)

## 诊断提示

在**诊断提示**区域，展示近3小时数据库健康巡检的诊断数据，如下图所示。
<img src="https://qcloudimg.tencent-cloud.cn/raw/08276f302a69bb851c5b31eff35f9ef9.png" style="zoom:60%;" />

- **分险分布**：展示近3小时数据库健康巡检诊断的风险等级分布占比，风险等级由重至轻，包括： 致命、 严重、 告警 、 提示。若所有风险等级占比为0%，即数据库状态为**健康**。
- **诊断详情**：每隔10分钟统计的数据库风险等级详情。 将鼠标放在任意一条异常告警，可查看、忽略和取消忽略同类的告警。
<table>
<thead>
<tr><th>参数</th><th>说明</th></tr></thead>
<tbody><tr>
<td>等级</td>
<td>诊断的分险等级，由重至轻，包括： 致命、 严重、 告警 、 提示、健康。</td></tr>
<tr>
<td>开始时间</td>
<td>每次发起健康巡检的开始时间，每隔10分钟发起一次健康巡检。</td></tr>
<tr>
<td>诊断项</td>
<td>风险等级的诊断类别，例如：健康巡检、错误命令等。</td></tr>
<tr>
<td>持续时长</td>
<td>该风险等级状态所持续的时长。</td></tr>
<tr>
<td>查看</td>
<td>单击<strong>查看</strong>，可详细查看健康巡检发现的异常问题。如下图所示。</td></tr>
<tr>
<td>忽略</td>
<td>单击<strong>忽略</strong>，在<strong>确认忽略</strong>的对话框，单击<strong>确定</strong>，由相同根因产生的异常告警将被忽略。</td></tr>
<tr>
<td>取消忽略</td>
<td>在<strong>诊断详情</strong>区域右上角，单击<strong>显示已忽略的诊断项</strong>，在诊断详情列表中，找到之前已忽略的诊断项，鼠标放在该诊断项，单击<strong>取消忽略</strong>，取消之前忽略的诊断项。由相同根因产生的异常告警也将被取消忽略。</td></tr>
</tbody></table>
<img src="https://qcloudimg.tencent-cloud.cn/raw/ba5a992deb7a469f52c3efcc41838260.png"  style="zoom:80%;">


