## 功能描述

异常诊断功能为用户的数据库实例提供实时的性能监控、健康巡检、故障诊断，让用户既可以直观地感知数据库实例实时的运行状况，也可以定位实时出现的性能异常。

## 整体概览

登录 [DBbrain 控制台](https://console.cloud.tencent.com/dbbrain/analysis)，在左侧导航选择**诊断优化**，在上方选择对应数据库，然后选择**异常诊断**页。
![](https://qcloudimg.tencent-cloud.cn/raw/28d32d21e09b64c1799e00498d374a7b.png)

## 查看监控概览

概览框可显示数据库的整体健康得分、异常诊断事件时间轴、拓扑图等信息。

- 在概览框上方可选择实时或者历史统计时间范围。
- 在诊断事件的时间轴上，可查看每次诊断事件发生的时间点。将鼠标悬浮在时间轴上，上下滚动鼠标滑轮，可放大/缩小时间轴范围。
![](https://qcloudimg.tencent-cloud.cn/raw/fde744221cda77914e8e410886104a37.png)
- 健康得分显示实例的CPU 使用率、内存使用率、连接使用率、读请求命中率。数据库健康得分结合 AI，更贴合用户数据库真实运行状况。


## 查看诊断信息

诊断事件显示等级分为健康、提示、告警、严重、致命。DBbrain 会定期（每10分钟）的对实例进行健康巡检。

1. 在诊断提示框中，显示事件的风险等级分布。
2. 在诊断详情列表中，单击对应事件即可进入事件详情页。
   <img src="https://qcloudimg.tencent-cloud.cn/raw/74867b312e0415ba498d914a9b860471.png" style="zoom:67%;" />
3. 在事件详情中查看事件的现场描述。
   - 事件详情：包括诊断项、起止时间、风险等级、持续时长、概要等信息。
   - 现场描述：异常事件（或健康巡检事件）的外在表现现象的快照和性能趋势。
     ![](https://qcloudimg.tencent-cloud.cn/raw/fb2e85cee09ccbdaa527065c83338512.png)
4. 忽略/取消忽略告警。
   - 忽略告警功能，从单击**忽略**后，该实例由相同根因产生的诊断项告警也将被忽略。对于已被忽略的异常告警信息，将会被置灰色。
>?该功能仅针对诊断项为非“健康巡检”的异常告警。
   - 取消忽略告警功能，从单击**取消忽略**后，该实例由相同根因产生的异常告警也将被取消忽略。默认不显示已忽略的诊断项。
   在**诊断提示**中，鼠标悬浮在对应告警上，即可显示**忽略**操作，然后单击**忽略**。单击任意一条异常告警的**忽略**及**取消忽略**，可忽略及取消忽略同类告警信息。
![](https://qcloudimg.tencent-cloud.cn/raw/3aa843d06a448c8fc73b89b7c57c3bd7.png)
   也可以进入事件详情页，在右上方单击**忽略**或**取消忽略**。

## 查看 SQL 和慢 SQL 信息

- “实时/历史 SQL”展示实例的请求数汇总和分布，包括 aggregate 请求数、command 请求数、count 请求数、delete 请求个数、getmore 请求数、insert 请求数、read 请求数、update 请求数。
- “实时/历史慢 SQL”展示慢 SQL 请求数和 CPU 使用率的趋势。

![](https://qcloudimg.tencent-cloud.cn/raw/2fe9707573b631a3f631518055849b93.png)
