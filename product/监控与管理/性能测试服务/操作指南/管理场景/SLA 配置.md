
## 概述

服务等级定义（Service Level Agreement，缩写为 SLA） 是您为压测场景定义的具体目标，也是判断压测是否异常的重要依据。
当您为场景配置了 SLA 规则，PTS 在运行压测任务时，会将 SLA 指标与压测过程中收集到的相关数据进行比较，然后确定目标的 SLA 状态，并根据您指定的方式做出相应处理（如停止压测、发出通知等）。

## 基本用法

在场景配置的 SLA 页面，您可以为该场景创建 SLA 规则。
![](https://qcloudimg.tencent-cloud.cn/raw/651419673561a4949d57c9cdaddc0e59.png)

### SLA 规则配置

一条 SLA 规则主要包含以下信息：

- **SLA 规则表达式**：包含 SLA 指标、聚合方式、条件、阈值。
- **适用对象**：被发送请求的所有服务接口 URL。
- **是否停止压测**：当规则被触发时，是否中止压测任务。

### 告警联系人配置

当 SLA 规则被触发时，除了能及时停止压测，您还可以配置告警联系人，接收告警消息。PTS 能借助您的腾讯云账号下已有的通知渠道，向您发送告警消息。在场景的 SLA 配置页面，您可单击 **选择联系人组**，弹出的列表页会展示出当前项目下，所有场景共用的联系人组：
![](https://qcloudimg.tencent-cloud.cn/raw/bee046351e95e2f85ef86608917e22fc.png)

若当前列表为空，您需要先创建联系人组，并添加相应的腾讯云账号作为联系人、使用该联系人账号下已有的通知渠道（如短信、邮件等）：
![](https://qcloudimg.tencent-cloud.cn/raw/6994278aee4fdc8fce7fcffc70ffe739.png)

若您希望选择的联系人不存在，您可点击 **新增用户**，跳转到腾讯云访问管理相关页面，维护您账号下的用户信息及通知渠道。

### 使用效果

如图所示，SLA 规则中配置当请求数大于 100 时，停止压测并发送通知：
![](https://qcloudimg.tencent-cloud.cn/raw/df49bb502d1d0baccae0eeb3fca2f68f.png)
则压测时请求数超过 100，任务中断：
![](https://qcloudimg.tencent-cloud.cn/raw/26e7fdd3287a089e1bff79523c1b9771.png)
告警通知也会发往相应的联系人和渠道，如短信、邮件等。此外，还可在告警历史页，查看同一项目下所有的告警历史记录：
![](https://qcloudimg.tencent-cloud.cn/raw/a57b556c4427e7e709e6753735132c22.png)
