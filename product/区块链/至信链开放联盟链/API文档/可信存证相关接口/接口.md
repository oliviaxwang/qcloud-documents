
在调用存证服务前，需要进行鉴权操作，具体鉴权方式见 [接口接入鉴权](https://cloud.tencent.com/document/product/1543/73811)。

## 存证接口

/api/v1/ev/save

#### 请求方式

POST

#### 请求参数
|  字段名     	|  类型   	|  是否必填 	|  描述                                        	|
|-------------	|---------	|-----------	|----------------------------------------------	|
|  publicKey  	|  string 	|  是       	|  公钥                                        	|
|  hash       	|  string 	|  是       	|  文件 hash                                    	|
|  extendInfo 	|  string 	|  是       	|  额外信息（长度不超过 1024）                 	|
|  sign       	|  string 	|  是       	|  上链信息的签名（publicKey_hash_extendInfo） 	|

#### 响应参数

|  字段名  	|  类型   	|  是否必填 	|  描述                                        	|
|----------	|---------	|-----------	|----------------------------------------------	|
|  retCode 	|  int    	|  是       	|  返回状态码，取值：0-成功， 其他-失败        	|
|  retMsg  	|  string 	|  是       	|  返回信息，取值：成功为 OK, 失败-错误原因说明 	|
|  data    	|  json   	|  是       	|  -                                            	|

data 结构如下：

|  字段名      	|  类型   	|  描述     	|
|--------------	|---------	|-----------	|
|  evId        	|  string 	|  存证 id  	|
|  txId        	|  string 	|  交易 Id   	|
|  blockHeight 	|  string 	|  区块高度 	|
|  txTime      	|  string 	|  上链时间 	|

## 查询存证接口

/api/v1/ev/query

#### 请求方式

GET

#### 请求参数

以下三个参数不能同时为空：

|  字段名 	|  类型   	|  是否必填 	|  描述                   	|
|---------	|---------	|-----------	|-------------------------	|
|  evId   	|  string 	|  否       	|  通过 evId 查询存证信息 	|
|  hash   	|  string 	|  否       	|  通过 hash 查询存证信息 	|
|  txId   	|  string 	|  否       	|  通过 txId 查询存证信息 	|

#### 响应参数
|  字段名  	|  类型   	|  是否必填 	|  描述                                        	|
|----------	|---------	|-----------	|----------------------------------------------	|
|  retCode 	|  int    	|  是       	|  返回状态码，取值：0-成功， 其他-失败        	|
|  retMsg  	|  string 	|  是       	|  返回信息，取值：成功为 OK, 失败-错误原因说明 	|
|  data    	|  json   	|  是       	|         -                                     	|

data 结构如下：

|  字段名      	|  类型   	|  描述     	|
|--------------	|---------	|-----------	|
|  evId        	|  string 	|  存证 id  	|
|  txId        	|  string 	|  交易 Id   	|
|  blockHeight 	|  int64  	|  区块高度 	|
|  txTime      	|  string 	|  上链时间 	|
|  extendInfo  	|  string 	|  额外信息 	|

## 生成证书接口

/api/v1/ev/cert

#### 请求方式

POST

#### 请求参数

以下参数不能同时为空：

|  字段名 	|  类型   	|  是否必填 	|  描述                   	|
|---------	|---------	|-----------	|-------------------------	|
|  evId   	|  string 	|  是       	|  通过 evId 生成证书     	|

#### 响应参数

|  字段名  	|  类型   	|  是否必填 	|  描述                                        	|
|----------	|---------	|-----------	|----------------------------------------------	|
|  retCode 	|  int    	|  是       	|  返回状态码，取值：0-成功， 其他-失败        	|
|  retMsg  	|  string 	|  是       	|  返回信息，取值：成功为 OK, 失败-错误原因说明 	|
|  data    	|  json   	|  是       	|    -                                          	|

data 结构如下：

|  字段名 	|  类型 	|  描述                                           	|  
|---------	|-------	|-------------------------------------------------	|
|  status 	|  int  	|  证书当前状态（0：任务未创建；1：任务已创建；） 	|  

## 查询证书接口

/api/v1/ev/cert

#### 请求方式

GET

#### 请求参数

|  字段名 	|  类型   	|  是否必填 	|  描述               	|
|---------	|---------	|-----------	|---------------------	|
|  evId   	|  string 	|  是       	|  通过 evId 查询证书 	|

#### 响应参数

|  字段名 	|  类型 	|  描述                                           	|   	|
|---------	|-------	|-------------------------------------------------	|---	|
|  status 	|  int  	|  证书当前状态（0：任务未创建；1：任务已创建；） 	|   	|

data 结构如下：

|  字段名  	|  类型   	|  是否必填 	|  描述                                        	|
|----------	|---------	|-----------	|----------------------------------------------	|
|  retCode 	|  int    	|  是       	|  返回状态码，取值：0-成功， 其他-失败        	|
|  retMsg  	|  string 	|  是       	|  返回信息，取值：成功为 OK, 失败-错误原因说明 	|
|  data    	|  json   	|  是       	|      -                                        	|
